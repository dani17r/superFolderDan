import{_ as y,D as o,E as c,R as v,V as b,G as e,F as r,z as f,Q as m,I as _,P as l,U as C,J as k,x as B,W as Q,X as $,Z as h}from"./index-8A18UAFp.js";import{Q as P}from"./QPage-DzauHIHK.js";import{s as z}from"./superComposable-eMaWt6Xc.js";import{C as N}from"./ContentFiles-D55dyprn.js";import{b as I,a as x,Q as w}from"./QList-122oryhG.js";import{Q as j}from"./QMenu-BPBtoygw.js";import{C as F}from"./ClosePopup-BBhaD4b9.js";import"./_commonjsHelpers-Cpj98o6Y.js";const D={};function S(p,t){return o(),c(v,{round:"",color:"primary",icon:"keyboard_backspace",onClick:t[0]||(t[0]=d=>p.$router.go(-1))})}const E=y(D,[["render",S],["__file","ButtonBack.vue"]]),V={class:"text-center tw-flex tw-flex-col tw-justify-center tw-items-center"},M={class:"tw-flex tw-justify-center tw-items-center tw-flex-col"},L={class:"thumbnail-container"},U=["src"],q={class:"text-center"},G={class:"text-center"},J={__name:"previewFile",props:{size:{type:String},url:{type:String},name:{type:String,default:""},id:{type:Number}},emits:["fixedFiles","editeFiles","deleteFiles","blurInput"],setup(p,{emit:t}){const{store:d}=z(),n=t,a=p;return(g,s)=>(o(),b("div",V,[e(v,{"fab-mini":"",round:"",color:"primary",size:"5px",icon:"more_vert",class:"tw-z-[100] tw-mb-[-40px] tw-mr-[-90px]"},{default:r(()=>[e(j,null,{default:r(()=>[e(I,{dense:"",style:{"min-width":"100px"}},{default:r(()=>[f((o(),c(x,{clickable:"",onClick:s[0]||(s[0]=i=>n("editeFiles"))},{default:r(()=>[e(m,{color:"secondary",name:"edit",class:"tw-mt-[4px] tw-mr-[4px]",size:"20px"}),e(w,null,{default:r(()=>[_("Edite name")]),_:1})]),_:1})),[[F]]),f((o(),c(x,{clickable:"",onClick:s[1]||(s[1]=i=>n("fixedFiles"))},{default:r(()=>[e(m,{color:"secondary",name:"keyboard_double_arrow_right",class:"tw-mt-[4px] tw-mr-[4px]",size:"20px"}),e(w,null,{default:r(()=>[_("fixed file")]),_:1})]),_:1})),[[F]]),f((o(),c(x,{clickable:"",onClick:s[2]||(s[2]=i=>n("deleteFiles",a.id))},{default:r(()=>[e(m,{color:"secondary",name:"delete",class:"tw-mt-[4px] tw-mr-[4px]",size:"20px"}),e(w,null,{default:r(()=>[_("Delete files")]),_:1})]),_:1})),[[F]])]),_:1})]),_:1})]),_:1}),l("div",M,[l("div",L,[l("iframe",{src:C(d).files.getMedia(a.url),class:"iframe-preview",frameborder:"0"},null,8,U)]),l("p",q,k(a.name),1),l("p",G,k(parseFloat(Number(a.size)/1024).toFixed(1))+" kiB ",1)])]))}},O=y(J,[["__file","previewFile.vue"]]),R={class:"text-center"},T={__name:"FolderPage",setup(p){const{store:t,route:d}=z(),n=()=>{document.getElementById("file-input").click()},a=s=>{const i=s.target.files[0];t.files.uploadFile({user_id:t.auth.current.id,folder_id:d.params?.id||null,name:i.name,size:i.size,file:i})},g=s=>{t.files.deleteFile(s)};return B(()=>{t.files.getFilesOfUser(t.auth.current.id,Number(d.params.id))}),(s,i)=>(o(),c(P,{class:"row items-center justify-evenly"},{default:r(()=>[e(E,{class:"tw-fixed tw-top-[85px] tw-right-3"}),e(N,null,{default:r(()=>[l("div",R,[e(m,{name:"note_add",size:"80px",color:"primary",class:"tw-opacity-50 tw-cursor-pointer",onClick:i[0]||(i[0]=u=>n())}),l("p",{class:"text-accent tw-cursor-pointer",onClick:i[1]||(i[1]=u=>n())}," New File "),l("input",{type:"file",id:"file-input",name:"file",onChange:a,style:{display:"none"},accept:".doc,.docx,.xls,.xlsx,.ppt,.pptx,.txt,text/plain,.pdf,.jpg,.jpeg,.png",required:""},null,32)]),(o(!0),b($,null,Q(C(t).files.data,u=>(o(),c(O,h({key:u.id,ref_for:!0},u,{onDeleteFiles:g}),null,16))),128))]),_:1})]),_:1}))}},te=y(T,[["__file","FolderPage.vue"]]);export{te as default};
