import{a as n,Q as y}from"./QCard-D-lzlv1b.js";import{Q as x}from"./QPage-DzauHIHK.js";import{g as u,Q as d}from"./rules-C8dINm9v.js";import{C as w,r,x as g,D as P,E as h,F as t,P as i,G as l,Q as p,z as Q,R as c,a1 as m,a2 as V,_}from"./index-8A18UAFp.js";import{Q as C,a as S}from"./QPopupProxy-CxGcsF29.js";import{C as q}from"./ClosePopup-BBhaD4b9.js";import{s as U}from"./superComposable-eMaWt6Xc.js";import"./QDialog-DlzXN3s6.js";import"./QMenu-BPBtoygw.js";import"./_commonjsHelpers-Cpj98o6Y.js";const D={class:"row items-center justify-end"},E=w({__name:"UpdateDataUser",setup(b){const{store:o}=U(),e={fullname:{val:r(""),refs:r(null),rules:[u.empty]},birthdate:{val:r(""),refs:r(null),rules:[u.empty]},email:{val:r(""),refs:r(null),rules:[u.empty]}},v=()=>{e.email.refs.value?.validate(),e.fullname.refs.value?.validate(),e.birthdate.refs.value?.validate(),!e.fullname.refs.value.hasError&&!e.birthdate.refs.value.hasError&&!e.email.refs.value.hasError&&o.auth.updateUser({email:e.email.val.value,data:{fullname:e.fullname.val.value,birthdate:e.birthdate.val.value}},()=>{V.success({message:"Success Update Data"})})},f=()=>{e.email.val.value="",e.fullname.val.value="",e.birthdate.val.value="",setTimeout(()=>{e.fullname.refs.value.resetValidation(),e.birthdate.refs.value.resetValidation(),e.email.refs.value.resetValidation()},10)};return g(()=>{e.fullname.val.value=String(o.auth.current?.user_metadata.fullname),e.birthdate.val.value=String(o.auth.current?.user_metadata.birthdate),e.email.val.value=String(o.auth.current?.email)}),(k,s)=>(P(),h(y,{class:"box-card-content"},{default:t(()=>[i("form",{onSubmit:m(v,["prevent","stop"]),onReset:m(f,["prevent","stop"])},[l(n,null,{default:t(()=>[l(d,{dense:"",outlined:"",modelValue:e.fullname.val.value,"onUpdate:modelValue":s[0]||(s[0]=a=>e.fullname.val.value=a),label:"Full Name",class:"q-mt-md",ref:a=>e.fullname.refs.value=a,rules:e.fullname.rules},null,8,["modelValue","rules"]),l(d,{dense:"",outlined:"",modelValue:e.birthdate.val.value,"onUpdate:modelValue":s[2]||(s[2]=a=>e.birthdate.val.value=a),mask:"date",rules:e.birthdate.rules,class:"q-mt-md",ref:a=>e.birthdate.refs.value=a,placeholder:"Date Of Birth"},{append:t(()=>[l(p,{name:"event",class:"cursor-pointer"},{default:t(()=>[l(C,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:t(()=>[l(S,{modelValue:e.birthdate.val.value,"onUpdate:modelValue":s[1]||(s[1]=a=>e.birthdate.val.value=a),"default-view":"Years","default-year-month":"1990/01"},{default:t(()=>[i("div",D,[Q(l(c,{label:"Close",color:"primary",flat:""},null,512),[[q]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","rules"]),l(d,{dense:"",outlined:"",type:"email",modelValue:e.email.val.value,"onUpdate:modelValue":s[3]||(s[3]=a=>e.email.val.value=a),label:"Email",class:"q-mt-md",ref:a=>e.email.refs.value=a,rules:e.email.rules},null,8,["modelValue","rules"])]),_:1}),l(n,null,{default:t(()=>[l(c,{unelevated:"",color:"primary",label:"Update","no-caps":"",class:"full-width tw-rounded-lg no-shadow",type:"submit"})]),_:1})],32)]),_:1}))}}),R=_(E,[["__file","UpdateDataUser.vue"]]),B=w({__name:"UpdatePassword",setup(b){const{store:o}=U(),e={newPassword:{val:r(""),view:r(!1),refs:r(null),rules:[u.empty]},checkPassword:{val:r(""),view:r(!1),refs:r(null),rules:[u.empty]}},v=()=>{e.newPassword.refs.value?.validate(),e.checkPassword.refs.value?.validate(),!e.newPassword.refs.value.hasError&&!e.checkPassword.refs.value.hasError&&o.auth.updateUser({password:e.newPassword.val.value},()=>{V.success({message:"Success Update Password"})})},f=()=>{e.newPassword.val.value="",e.checkPassword.val.value="",setTimeout(()=>{e.newPassword.refs.value.resetValidation(),e.checkPassword.refs.value.resetValidation()},10)};return(k,s)=>(P(),h(y,{class:"box-card-content"},{default:t(()=>[i("form",{onSubmit:m(v,["prevent","stop"]),onReset:m(f,["prevent","stop"])},[l(n,null,{default:t(()=>[l(d,{dense:"",outlined:"",class:"q-mt-md",modelValue:e.newPassword.val.value,"onUpdate:modelValue":s[1]||(s[1]=a=>e.newPassword.val.value=a),label:"New Password",ref:a=>e.newPassword.refs.value=a,rules:e.newPassword.rules,type:e.newPassword.view.value?"text":"password",clearable:""},{append:t(()=>[l(p,{name:e.newPassword.view.value?"visibility":"visibility_off",class:"cursor-pointer",onClick:s[0]||(s[0]=a=>e.newPassword.view.value=!e.newPassword.view.value)},null,8,["name"])]),_:1},8,["modelValue","rules","type"]),l(d,{dense:"",outlined:"",class:"q-mt-md",modelValue:e.checkPassword.val.value,"onUpdate:modelValue":s[3]||(s[3]=a=>e.checkPassword.val.value=a),label:"check Password",ref:a=>e.checkPassword.refs.value=a,rules:[...e.checkPassword.rules,a=>e.newPassword.val.value==a||"password does not match"],type:e.checkPassword.view.value?"text":"password",clearable:""},{append:t(()=>[l(p,{name:e.checkPassword.view.value?"visibility":"visibility_off",class:"cursor-pointer",onClick:s[2]||(s[2]=a=>e.checkPassword.view.value=!e.checkPassword.view.value)},null,8,["name"])]),_:1},8,["modelValue","rules","type"])]),_:1}),l(n,null,{default:t(()=>[l(c,{unelevated:"",color:"primary",label:"Update","no-caps":"",class:"full-width tw-rounded-lg no-shadow",type:"submit"})]),_:1})],32)]),_:1}))}}),$=_(B,[["__file","UpdatePassword.vue"]]),N=i("h1",{class:"text-h4 text-weight-bold text-primary"},"Your Profile",-1),j={class:"q-gutter-md q-layout-padding flex justify-center items-start"},F=w({__name:"ProfilePage",setup(b){return(o,e)=>(P(),h(x,null,{default:t(()=>[l(n,{class:"text-center pt-md"},{default:t(()=>[N]),_:1}),i("div",j,[l(R,{class:"q-col"}),l($,{class:"q-col"})])]),_:1}))}}),K=_(F,[["__file","ProfilePage.vue"]]);export{K as default};
